# 魔素循環と死骸処理

このドキュメントでは、モンスターが倒された際に生成される死骸(`corpse`)と、
それを通じた養分・魔分の循環処理についてまとめます。

## 死骸の生成

- モンスターが戦闘でHPが0になると、そのマスに `corpse` 状態を配置します。
- 死骸には元モンスターのHPや階層に応じた資源量が設定されます。
- 死骸は最大3ターン残存し、その間に他モンスターが捕食するか、資源化されます。

## 資源への還元

- 死骸は毎ターン、周囲の近接マスに一定量の `nutrient` または `mana` を分配します。
- 捕食されずに寿命を迎えた死骸は自然消滅し、残余資源がマップに加算されます。

## 捕食による利用

- 一部のモンスターは隣接する `corpse` に対し捕食スキルを発動できます。
- 捕食した資源はモンスターの回復や進化コストとして利用可能です。
- 死骸回収を専門とする下位魔物(スカベンジャー系)の導入も検討しています。

## 成長への影響

死骸から得た資源は、モンスターの進化や複製に利用できます。
特にアンデッド族の墓守型などは死骸を再生資源として再利用し、
勢力拡大を図ることが想定されています。

今後の実装では、AIが死骸を優先的に処理するかどうかといった行動分岐を追加し、
生態系全体のサイクルを表現する予定です。
